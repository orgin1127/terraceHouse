<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>test</title>
<script src="https://rtcmulticonnection.herokuapp.com/dist/RTCMultiConnection.min.js"></script>
<script src="https://rtcmulticonnection.herokuapp.com/socket.io/socket.io.js"></script>
<script src="/js/lib/jquery.min.js"></script> 
<script src="/js/lib/bootstrap.min.js"></script>
<link rel="stylesheet" href="/css/app/getHTMLMediaElement.css">
<style>
	video {
		width: 250px;
		height: 150px;
	}
	.videoContainer {
		width: 260px;
		height: 160px;
		
	}
	.bottom_tr_VideoContainer {
		width: 1800px;
		bottom:0px;
	}
	.UserVideoTR {
		border: 3px Lightgrey dotted;
	}
	
	#invite_DIV, #exit_DIV {
		background-color: Lightgrey;
		color: white;
	}
	#whiteBoard {
		width: 700px;
		height: 450px;
		padding: 0px;
		overflow: scroll;
	}
	
	#terraceChat {
		width: 500px;
		
		padding:0px;
	}
	#terraceTitle {
		height: 500px;
	}
</style>
<script type="text/javascript">
window.enableAdapter = true;
	$(document).ready(function() {
		$('#invite_DIV').on('click', pushedInviteDIV);
		$('#exit_DIV').on('click', pushedExitDIV);
	});
	
	function pushedInviteDIV() {
		console.log('invite div pushed');
	}
	function pushedExitDIV() {
		console.log('exit div pushed');
	}
</script>
</head>
<body>
	<div id="currentJoinID"></div>
	<button id="btn-open-room">Open Room</button>
	<button id="btn-join-room">Join Room</button><input type="text" id="OwnerId"><hr>
	<button id="btn-save-progress">회의 완료</button>
	
	<br>
	<div id="currentJoinMember"></div><div id="userList"></div><input type="button" value="권한주기" onclick="power()">
	
	
	<div class="bottom_tr_VideoContainer">
		<div>
			<table>
				<tr>
					<td rowspan="3" id="whiteBoard" style="background-color: grey; ">
						<div style="position: relative; top: -250px; left: 20px" id="canvasScroll">
						 <canvas height="842" width="595" id="imageOnly"
						   style="position:absolute; left: 0; top: 0; z-index: 0;"></canvas>
						 <canvas height="842" width="595" id="mycanvas" 
						   style="position: absolute; left: 0; top: 0; z-index: 1;"></canvas>
						</div>						
					</td>
					<td rowspan="3" height="500" id="canvasTools" style="background-color: grey;">
						<form id="uploadForm">
							<input type="hidden" id="loginId" name="loginId" value="{{loginid}}">
							<input type="hidden" id="terraceName" name="terraceName" value="{{terraceName}}">
							<input type="hidden" id="terrace_room_number" name ="terrace_room_number" value="{{terraceInfo.terrace_room_number}}">
							<input type="file" id="file" name="file" hidden="hidden" onchange="javascript:UploadtoServer()" enctype="multipart/form-data" accept=".pdf">
						</form>
						<a href="javascript:canvasUpload()"><img src="image/canvasUpload.png" width="24" height="24"></a><br>
						<a id="canvasDownload"><img src="image/canvasDownload.png"></a><br>
						<a href="javascript:canvasPen()"><img src="image/canvasPen.png" width="24" height="24" ></a><br>
						<input type="color" onchange="javascript:colorPicker()" id="lineColor" value ="#ff0000" style="width:20px;"><br>
						<a href="javascript:canvasUndo()"><img src="image/canvasUndo.png"></a><br>
						<a href="javascript:canvasER()"><img src="image/canvasEraser.png" width="24" height="24"></a><br>
						<a href="javascript:canvasRect()"><img src="image/canvasRect.png"></a><br>
						<a href="javascript:canvasCircle()"><img src="image/canvasCircle.png"></a><br>
						<a href="javascript:canvasLine()"><img src="image/canvasLine.png"></a><br>
						<a href="javascript:backwardPage('{{loginid}}')"><img src="image/canvasPageUp.png"></a><br>
						<input type="text" id="indexOfpage" value="0" readonly="readonly" style="width:20px; text-align: center;"><br>
						<a href="javascript:forwardPage('{{loginid}}')"><img src="image/canvasPageDown.png"></a><br>
						<a href="javascript:canvasBlackBoard()"><img src="image/canvasBlackBoard.png"></a><br>
						
					</td>
					<td colspan="2" id="terraceTitle" style="background-color: grey; height:24px;">{{terraceName}}</td>
				</tr>
				<tr>
					<td colspan="2" id="terraceChat" style="background-color: grey; ">
						
							<div id="chat-container" style="overflow-y: auto; height: 800px;">
						        <div id="file-container"></div>
						        <div class="chat-output"></div>
						    </div>
						    <!-- <div id="videos-container"></div> -->
						    <!-- <input type="text" id="room-id" value="abcdef" autocorrect=off autocapitalize=off size=20>
						    <button id="open-room">Open Room</button>
						    <button id="join-room">Join Room</button>
						    <button id="open-or-join-room">Auto Open Or Join Room</button>
						
						    <br><br> -->
						    
						    
						    <!-- <button id="btn-leave-room" disabled>Leave /or close the room</button> -->
						
						    <!-- <div id="room-urls" style="text-align: center;display: none;background: #F1EDED;margin: 15px -10px;border: 1px solid rgb(189, 189, 189);border-left: 0;border-right: 0;"></div> -->
					</td>
					<td>
						<div id="inner_tr_VideoContainer">
							<table class="UserVideoTR">
								<tr>	
									<td>								
										<div class="videoContainer" id="user1"></div>				
									</td>
								</tr>
								<tr>
									<td>
										<div class="videoContainer" id="user2"></div>
									</td>
								</tr>
								<tr>
									<td>
										<div class="videoContainer" id="user3"></div>
									</td>
								</tr>
								<tr>
									<td>
										<div class="videoContainer" id="user4"></div>
									</td>
								</tr>
								<tr>
									<td>
										<div id="invite_DIV">초대</div><br>
										<div id="exit_DIV">퇴장</div>
									</td>
								</tr>
							</table>
						</div>
					</td>
				</tr>
				<tr>
					<td id="terraceChatInput" style="background-color: grey; height: 100px; width:100px">
					<button id="share-file" disabled>Share File</button>
					<input type="text" id="input-text-chat" placeholder="Enter Text Chat">
					</td>
				</tr>				
			</table>
		</div>
		<!-- <div id="inner_tr_VideoContainer">
			<table class="UserVideoTR">
				<tr>
					<td>
						<div class="videoContainer" id="user2"></div>				
					</td>
					<td>
						<div class="videoContainer" id="user3"></div>	
					</td>
					<td>
						<div class="videoContainer" id="user4"></div>
					</td>
					<td>
						<div id="invite_DIV">초대</div><br>
						<div id="exit_DIV">퇴장</div>
					</td>
				</tr>
			</table>
		</div> -->
	</div>
	
	<!-- download js and css -->
	

	<img id="image1" src="" hidden="hidden" crossOrigin = "anonymous">
	<script src="/js/app/adapter.js"></script>
	<script src="/js/app/FileBufferReader.js"></script>
	<script src="/js/app/getHTMLMediaElement.js"></script>
	<script src="/js/app/terraceRoomJS.js"></script>
	
	<input type="hidden" id="terraceNumber" value="{{terraceInfo.terrace_room_number}}">
	<input type="hidden" id="loginId" value="{{loginid}}">
	<input type="hidden" id="creator">
	
</body>
</html>